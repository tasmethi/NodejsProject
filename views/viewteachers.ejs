<!DOCTYPE html>
<head>
    <title>
        Class Manager Portal
    </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
    <style>
        a {
        margin-left: 30px;
        margin-right: 30px;
        
    }
	body{
	margin-top:50px;
	background-color: rgb(202, 243, 216);
}
.card{
  width:auto;
	height:450px;
	position:fixed;
	top:180px;
	left:80px;
    background-color:rgb(25, 51, 53);
    overflow: scroll;
    overflow-x: hidden;
}
.card-header{
    font-family: Rockwell;
    color: beige;
    font-size: 20px;
}
.autocenter{
	float:none;
	margin:auto;
}
button {
    background-color:rgb(179, 214, 248);  ;
    font-family: Rockwell;
    color: beige;

}
label{
  font-family: Rockwell;
    color: beige;
    font-size: 15px;
}
p{
    font-family: Rockwell;
    color: beige;
    font-size: 15px;
}
 
.dropdown-toggle::after {
   transition: transform 0.15s linear; 
}
 
.show.dropdown .dropdown-toggle::after {
  transform: translateY(3px);
}
.dropdown-menu {
  margin-top: 0;
}
.dropdown-item:hover{
    background: none;
}
table, th, td {
  border: 1px solid black;
  font-family: Rockwell;
    color: beige;
    font-size: 12px;
    width:auto;
    text-align: center;

}
::-webkit-scrollbar {
  width: 20px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px grey; 
  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: beige; 
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: gainsboro;
}
    </style>

<body>
    <%if(teacherlist!=""){%>
        <%if(teacherlist=="Error"){%>
        <div class="modal" id="errorModal">
      <div class="modal-dialog">
        <div class="modal-content">
    
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Error</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
    
          <!-- Modal body -->
          <div class="modal-body">
          Teacher List is Empty! Try Later!
          </div>
    
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          </div>
    
        </div>
      </div>
    </div>
    <script type="text/javascript">
        $("#errorModal").modal();
    </script>
    <%}%>
    <%if(teacherlist=="Success"){%>
        <div class="modal" id="successModal">
      <div class="modal-dialog">
        <div class="modal-content">
    
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Success</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
    
          <!-- Modal body -->
          <div class="modal-body">
            Teacher Data Deleted Successfully!
          </div>
    
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          </div>
    
        </div>
      </div>
    </div>
    <script type="text/javascript">
        $("#successModal").modal();
    </script>
    <%}}%>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <!-- Brand/logo -->
        <a class="navbar-brand">
          <img src="icon1.png" alt="logo" style="width:100px;">
        </a>
        <!-- Links -->
        <centre>
        <ul class="navbar-nav">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Home
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
              <a class="dropdown-item" href="/">Main Home Page</a>
              <a class="dropdown-item" href="/cmportal">CM Portal</a>
              <div class="dropdown-divider"></div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Manage Students
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
              <a class="dropdown-item" href="/newstudent">Add New Student</a>
              <a class="dropdown-item" href="/viewstudents">View All Students</a>
              <div class="dropdown-divider"></div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Manage Teachers
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
              <a class="dropdown-item" href="/newteacher">Add New Teacher</a>
              <a class="dropdown-item" href="/viewteachers">View All Teachers</a>
              <div class="dropdown-divider"></div>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Manage Courses
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
              <a class="dropdown-item" href="/newcourse">Add New Course</a>
              <a class="dropdown-item" href="/viewcourses">View All Courses</a>
              <div class="dropdown-divider"></div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/lecturedetails">Lecture Details</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout">Logout</a>
          </li>
          
        </ul>
    </centre>
      </nav>
      <div class="container">
		<div class="col-sm-6 autocenter">
			<center>
			<div class="card">
			<div class="card-header"> TEACHERS LIST
			</div>
			
			<div class="card-body">
				<table>
                    <thead style="border:1">
                        <tr>
                        <th>Teacher Name</th>
                        <th>Teacher Email</th>
                        <th>Teacher Contact</th>
                        <th>Teacher Branch</th>
                        <th>Teacher Date of Joining</th>
                        <th>Teacher Working Hours</th>
                        <th>Teacher Payment</th>
                        <th>Image</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody>
                        <%if (teacherlist!="Error" && teacherlist!="Success"){
                            let opt=JSON.parse(teacherlist)
                            for(let i=0;i < opt.length;i++){%>
                        <tr>
                            <td><%=opt[i].name%></td>
                            <td><%=opt[i].email%></td>
                            <td><%=opt[i].contact%></td>
                            <td><%=opt[i].branch%></td>
                            <td style="width:25%;height:25%"><%=opt[i].joiningdate%></td>
                            <td><%=opt[i].workhour%></td>
                            <td><%=opt[i].payment%></td>
                            <td style="width:100%;height:100%"><img style="width:100px;height:100px" src="<%=opt[i].profileimage%>"></td>
                            <td><a href="/teachupdate?id=<%=opt[i]._id%>">Update</a></td>
                            <td><a  href="/teachdelete?id=<%=opt[i]._id%>" onclick="return confirm('Are you sure you want to delete?');">Delete</a></td>
                        </tr>
                        <%}}%>
                    </tbody>
                    </table>
			</center>
			</div>
		</div>
	</div>
</div>
</body>
</html>